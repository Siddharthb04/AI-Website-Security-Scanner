<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This website is developed to identify the safety of URLs.">
    <meta name="keywords" content="phishing url, phishing, cyber security, machine learning, classifier, python">
    <meta name="author" content="VAIBHAV BICHAVE">

    <!-- Bootstrap (Optional) -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="static/styles.css" rel="stylesheet">
    <title>URL Detection</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans">

<div class="container mx-auto p-6">
    <div class="flex flex-col md:flex-row items-center justify-between bg-white shadow-lg rounded-lg p-6 space-y-4 md:space-y-0 md:space-x-6">
        
        <!-- Form Section -->
        <div class="w-full md:w-1/2">
            <h2 class="text-3xl font-semibold text-center text-blue-500 mb-6">PHISHING URL DETECTION</h2>
            <form action="/" method="POST" class="flex flex-col items-center">
             <input 
  type="text" 
  name="url" 
  id="url" 
  class="p-2 border-2 border-gray-300 rounded-lg text-black w-full mb-4" 
  placeholder="Enter URL" 
  required
>
  <button type="submit" class="bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-600 transition-all">Check Here</button>
            </form>
        </div>
        
        <!-- Prediction Section -->
        <div class="w-full md:w-1/2 bg-gray-50 p-6 rounded-lg shadow-inner">
            <h6 class="text-sm text-gray-700 mb-2 text-center">
                <a href="{{ url }}" target="_blank" class="text-blue-500">{{ url }}</a>
            </h6>
            <h3 id="prediction" class="text-xl font-semibold text-center text-gray-800"></h3>
            
            <div class="flex justify-center mt-4">
                <button id="button1" class="bg-green-500 text-white py-2 px-6 rounded-lg mr-2 hidden hover:bg-green-600 transition-all" onclick="window.open('{{url}}')" target="_blank">Continue</button>
                <button id="button2" class="bg-yellow-500 text-white py-2 px-6 rounded-lg hidden hover:bg-red-600 transition-all" onclick="window.open('{{url}}')" target="_blank">Still Want to Continue</button>
            </div>
        </div>
        
    </div>

    <!-- Adult Content Section -->
  <!-- Adult Content Section -->
<div class="mt-8 p-4 bg-yellow-200 border-l-4 border-yellow-500">
    <h3 class="text-lg font-semibold text-gray-800">Adult Content Detection Result</h3>
    <p class="text-gray-700">
        <strong>Adult Content Detected:</strong>
        {% if is_adult %}
            <span class="text-red-600">Yes</span>
        {% else %}
            <span class="text-green-600">No</span>
        {% endif %}
    </p>
    <h3 class="text-gray-700">Google Safe Browsing Verdict:</h3>
<p style="color: {% if safe and 'unsafe' in safe|lower %}red{% else %}green{% endif %};">
    {{ safe }}
</p>
</div>



    <!-- Footer -->
  
</div>

<!-- JavaScript -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

<script>
    let x = '{{xx}}';
    let num = x * 100;
    if (0 <= x && x < 0.50) {
        num = 100 - num;
    }
    let txtx = num.toString();
    
    if (x <= 1 && x >= 0.50) {
        var label = "Website is " + txtx + "% safe to use...";
        document.getElementById("prediction").innerHTML = label;
        document.getElementById("button1").style.display = "block";
    } else if (0 <= x && x < 0.50) {
        var label = "Website is " + txtx + "% unsafe to use...";
        document.getElementById("prediction").innerHTML = label;
        document.getElementById("button2").style.display = "block";
    }
</script>

</body>
</html>
